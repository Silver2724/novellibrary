{"ast":null,"code":"import{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE_URL=process.env.REACT_APP_API_URL;export default function ResetPassword(){const[email,setEmail]=useState(\"\");const[newPassword,setNewPassword]=useState(\"\");const[message,setMessage]=useState(\"\");const token=localStorage.getItem(\"token\");const handleReset=async()=>{e.preventDefault();try{const res=await fetch(\"\".concat(API_BASE_URL,\"/api/auth/reset-password\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},body:JSON.stringify({email,newPassword})});const text=await res.text();setMessage(text);}catch(err){setMessage(\"Error resetting password.\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reset Password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleReset,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter your email\",value:email,onChange:e=>setEmail(e.target.value)}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Enter a new password\",value:newPassword,onChange:e=>setNewPassword(e.target.value)}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Reset Password\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{children:message})]});}","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","process","env","REACT_APP_API_URL","ResetPassword","email","setEmail","newPassword","setNewPassword","message","setMessage","token","localStorage","getItem","handleReset","e","preventDefault","res","fetch","concat","method","headers","body","JSON","stringify","text","err","children","onSubmit","type","placeholder","value","onChange","target"],"sources":["C:/Users/diya2/novellibrary/novellibrary/frontend/src/components/ResetPassword.js"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL;\r\n\r\nexport default function ResetPassword() {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [newPassword, setNewPassword] = useState(\"\");\r\n    const [message, setMessage] = useState(\"\");\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    const handleReset = async () => {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            const res = await fetch(`${API_BASE_URL}/api/auth/reset-password`, {\r\n                method: \"POST\",\r\n                headers: {\"Content-Type\": \"application/json\", \"Authorization\": `Bearer ${token}` },\r\n                body: JSON.stringify({ email, newPassword }),\r\n            });\r\n\r\n            const text = await res.text();\r\n            setMessage(text);\r\n        } catch (err) {\r\n            setMessage(\"Error resetting password.\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Reset Password</h2>\r\n            <form onSubmit={handleReset}>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter your email\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                /> <br />\r\n                <input\r\n                    type=\"password\"\r\n                    placeholder=\"Enter a new password\"\r\n                    value={newPassword}\r\n                    onChange={(e) => setNewPassword(e.target.value)}\r\n                /> <br />\r\n                <button type=\"submit\">Reset Password</button>\r\n            </form>\r\n            {message && <p>{message}</p>}\r\n        </div>\r\n    );\r\n}"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjC,KAAM,CAAAC,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAElD,cAAe,SAAS,CAAAC,aAAaA,CAAA,CAAG,CACpC,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACY,WAAW,CAAEC,cAAc,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAAgB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3C,KAAM,CAAAC,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC5BC,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,GAAI,CACA,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAInB,YAAY,6BAA4B,CAC/DoB,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAC,cAAc,CAAE,kBAAkB,CAAE,eAAe,WAAAF,MAAA,CAAYR,KAAK,CAAG,CAAC,CAClFW,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEnB,KAAK,CAAEE,WAAY,CAAC,CAC/C,CAAC,CAAC,CAEF,KAAM,CAAAkB,IAAI,CAAG,KAAM,CAAAR,GAAG,CAACQ,IAAI,CAAC,CAAC,CAC7Bf,UAAU,CAACe,IAAI,CAAC,CACpB,CAAE,MAAOC,GAAG,CAAE,CACVhB,UAAU,CAAC,2BAA2B,CAAC,CAC3C,CACJ,CAAC,CAED,mBACIX,KAAA,QAAA4B,QAAA,eACI9B,IAAA,OAAA8B,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvB5B,KAAA,SAAM6B,QAAQ,CAAEd,WAAY,CAAAa,QAAA,eACxB9B,IAAA,UACIgC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,kBAAkB,CAC9BC,KAAK,CAAE1B,KAAM,CACb2B,QAAQ,CAAGjB,CAAC,EAAKT,QAAQ,CAACS,CAAC,CAACkB,MAAM,CAACF,KAAK,CAAE,CAC7C,CAAC,IAAC,cAAAlC,IAAA,QAAK,CAAC,cACTA,IAAA,UACIgC,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,sBAAsB,CAClCC,KAAK,CAAExB,WAAY,CACnByB,QAAQ,CAAGjB,CAAC,EAAKP,cAAc,CAACO,CAAC,CAACkB,MAAM,CAACF,KAAK,CAAE,CACnD,CAAC,IAAC,cAAAlC,IAAA,QAAK,CAAC,cACTA,IAAA,WAAQgC,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,gBAAc,CAAQ,CAAC,EAC3C,CAAC,CACNlB,OAAO,eAAIZ,IAAA,MAAA8B,QAAA,CAAIlB,OAAO,CAAI,CAAC,EAC3B,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}